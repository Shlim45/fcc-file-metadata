<!DOCTYPE html>
<html>
  <head>
    <title>Welcome to Glitch!</title>
    <meta name="description" content="A cool thing made with Glitch">
    <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/style.css">
  </head>
  <body>
    <header>
      <h1>
        File Metadata Microservice
      </h1>
    </header>

    <main>
      <form id="upload">
        <label for="myFile">Select a file:</label>
        <input type="file" id="myFile" name="myFile" />
        <button type="submit">Upload</button>
      </form>
      
      <section class="file-info hidden">
        
      </section>
    </main>
    
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const form = document.querySelector('#upload');
        
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          
          const file = form.querySelector('[type="file"]').files[0];

          console.log(file);
          
          // fetch('/file', {
          //   method: "POST",
          //   body: {
          //     myFile: file
          //   },
          // })
          //   // .then(response => response.json())
          //   .then(data => console.log(data))
          //   .catch(err => console.error(err));
        });
      });
    </script>
  </body>
</html>